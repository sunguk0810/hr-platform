# HR SaaS Platform - Product Requirements Document (PRD)

**문서 버전**: 1.0  
**작성일**: 2025-02-03  
**상태**: Draft  

---

## 목차

1. [Executive Summary](#1-executive-summary)
2. [프로젝트 개요](#2-프로젝트-개요)
3. [비즈니스 요구사항](#3-비즈니스-요구사항)
4. [사용자 정의](#4-사용자-정의)
5. [기능 요구사항](#5-기능-요구사항)
6. [비기능 요구사항](#6-비기능-요구사항)
7. [시스템 아키텍처 개요](#7-시스템-아키텍처-개요)
8. [릴리스 계획](#8-릴리스-계획)
9. [성공 지표](#9-성공-지표)
10. [리스크 및 완화 방안](#10-리스크-및-완화-방안)
11. [부록](#11-부록)

---

## 1. Executive Summary

### 1.1 제품 비전

대기업 그룹사를 위한 **엔터프라이즈급 멀티테넌트 HR SaaS 플랫폼**을 구축합니다. 100개 이상의 계열사가 독립적인 인사정책을 유지하면서도 그룹 차원의 통합 관리가 가능한 유연한 시스템을 제공합니다.

### 1.2 핵심 가치 제안

| 가치 | 설명 |
|------|------|
| **멀티테넌트 유연성** | 계열사별 독립 정책 + 그룹 통합 관리 |
| **워크플로우 자동화** | 조건 기반 결재선 자동 지정, 병렬/순차 승인 |
| **확장 가능한 아키텍처** | 마이크로서비스 기반, 외부 시스템 연동 인터페이스 |
| **규정 준수** | PIPA, ISMS 인증 대비, 감사 로그 5년 보관 |

### 1.3 목표 시장

- **Primary**: 대기업 그룹사 (100+ 계열사 규모)
- **Secondary**: 중견기업 그룹사 (10~50개 계열사)
- **예상 규모**: 동시 접속자 10,000명, 계열사 100개 이상

---

## 2. 프로젝트 개요

### 2.1 프로젝트 배경

대기업 그룹사는 다양한 계열사를 보유하고 있으며, 각 계열사는 업종과 규모에 따라 서로 다른 인사정책을 운영합니다. 기존 On-Premise HR 시스템의 한계를 극복하고, 클라우드 기반의 통합 HR 플랫폼을 통해 운영 효율성을 높이고자 합니다.

### 2.2 프로젝트 목표

1. **통합 인사관리**: 그룹 전체의 인사정보를 단일 플랫폼에서 관리
2. **정책 독립성**: 계열사별 맞춤형 인사정책 지원
3. **업무 자동화**: 전자결재 워크플로우를 통한 업무 프로세스 자동화
4. **확장성 확보**: 향후 ERP, 급여, 그룹웨어 연동을 위한 인터페이스 구축
5. **규정 준수**: 개인정보보호법(PIPA) 및 ISMS 인증 요건 충족

### 2.3 프로젝트 범위

#### In Scope (포함)

| Phase | 모듈 | 주요 기능 |
|-------|------|----------|
| **Phase 1** | 테넌트 관리 | 그룹사/계열사 등록, 정책 설정, 기능 On/Off |
| **Phase 1** | 기준정보(MDM) | 공통코드, 분류체계 관리 |
| **Phase 1** | 조직 관리 | 조직도, 부서/팀 관리, 보직/겸직 |
| **Phase 1** | 인사정보 | 사원 CRUD, 인사기록카드, 가족정보 |
| **Phase 1** | 근태/휴가 | 연차 관리, 휴가 신청/승인 |
| **Phase 1** | 전자결재 | 워크플로우 엔진, 결재선 관리 |
| **Phase 2** | 채용 관리 | 채용공고, 합격자 관리 |
| **Phase 2** | 발령 관리 | 인사발령, 승진, 전보 |
| **Phase 2** | 증명서 | 재직/경력증명서 발급 |
| **Phase 2** | 정현원 관리 | 정원/현원 현황 |
| **Phase 2** | 경조비 | 경조금 신청/지급 |
| **Phase 2** | 위원회 | 위원회 구성/관리 |
| **Phase 2** | 사원증 | 사원증 발급/관리 |
| **Phase 3** | 통계/리포트 | 인사 통계, 대시보드 |

#### Out of Scope (제외)

- 급여 계산/정산 기능 (외부 연동 인터페이스만 제공)
- 모바일 네이티브 앱 (웹 반응형으로 대체)
- ERP 직접 연동 (인터페이스만 제공, 실제 연동은 계열사별 별도 프로젝트)

### 2.4 주요 이해관계자

| 역할 | 책임 |
|------|------|
| **그룹 HR 총괄** | 전체 계열사 통합 리포트 조회, 그룹 정책 관리 |
| **계열사 HR 관리자** | 해당 계열사 인사정보, 정책 설정 |
| **부서 HR 담당자** | 해당 부서 직원 정보, 근태 관리 |
| **팀장** | 팀원 정보 조회, 휴가/결재 승인 |
| **일반 직원** | 본인 정보 조회, 휴가 신청 |
| **시스템 관리자** | 테넌트 관리, 시스템 설정 |

---

## 3. 비즈니스 요구사항

### 3.1 멀티테넌트 계층 구조

#### 3.1.1 기본 계층 구조

```
그룹(Group)
  └── 계열사/회사(Tenant/Company)
        └── 사업부/본부(Division)
              └── 부문(Department)
                    └── 팀(Team)
                          └── 담당(Unit)
```

#### 3.1.2 유연한 계층 정책

- 계열사마다 계층 깊이와 명칭이 다를 수 있음
- 계층 구조를 **동적으로 정의**할 수 있는 메타데이터 기반 설계
- 예시:
  - A계열사: 본부 → 팀 → 파트 (3단계)
  - B계열사: 사업부 → 부문 → 팀 → 담당 (4단계)

#### 3.1.3 계열사 간 인사이동

| 시나리오 | 처리 방식 |
|----------|----------|
| **전출** | 원 계열사에서 퇴직 처리 + 신규 계열사에서 입사 처리 |
| **전입** | 이전 계열사 경력 승계, 인사기록 통합 관리 |
| **겸직** | 복수 소속 동시 유지, 주/부 소속 구분 |

### 3.2 테넌트별 독립 정책

각 계열사(테넌트)는 다음 항목에 대해 **독립적인 정책**을 설정할 수 있습니다:

| 정책 영역 | 설정 가능 항목 |
|----------|---------------|
| **조직 구조** | 계층 깊이, 계층 명칭, 직급/직책 체계 |
| **휴가 정책** | 연차 일수, 이월 규칙, 반차/시간차 허용 |
| **근태 정책** | 출퇴근 기준 시간, 유연근무제 적용 |
| **결재 정책** | 병렬승인, 합의, 전결, 대결 기능 On/Off |
| **결재선** | 자동 결재선 규칙, 조건별 분기 |
| **브랜딩** | 로고, 테마 컬러 |

### 3.3 외부 시스템 연동 인터페이스

현재는 직접 연동하지 않지만, 향후 계열사별로 연동할 수 있도록 **표준 인터페이스**를 제공합니다:

| 연동 대상 | 인터페이스 방식 | 데이터 흐름 |
|----------|----------------|------------|
| **ERP** | REST API / File(CSV) | 양방향 |
| **급여 시스템** | REST API / File(CSV) | HR → 급여 |
| **그룹웨어** | REST API / Webhook | 양방향 |
| **채용 플랫폼** | REST API | 외부 → HR |

### 3.4 데이터 마이그레이션

계열사별로 기존 시스템 데이터를 마이그레이션할 수 있는 기능을 제공합니다:

- **지원 형식**: Excel (.xlsx), CSV, API
- **마이그레이션 대상**: 조직 구조, 사원 정보, 인사 이력
- **검증 기능**: 데이터 정합성 검증, 오류 리포트 생성
- **롤백 지원**: 마이그레이션 실패 시 원복 가능

---

## 4. 사용자 정의

### 4.1 사용자 역할 (Roles)

| 역할 | 설명 | 주요 권한 |
|------|------|----------|
| `SUPER_ADMIN` | 시스템 최고 관리자 | 전체 테넌트 관리, 시스템 설정 |
| `GROUP_ADMIN` | 그룹 HR 총괄 | 전체 계열사 조회, 그룹 정책 관리 |
| `TENANT_ADMIN` | 계열사 HR 관리자 | 해당 계열사 전체 권한 |
| `HR_MANAGER` | HR 담당자 | 인사정보 관리, 발령 처리 |
| `DEPT_MANAGER` | 부서장 | 부서원 정보 조회, 결재 승인 |
| `TEAM_LEADER` | 팀장 | 팀원 정보 조회, 휴가 승인 |
| `EMPLOYEE` | 일반 직원 | 본인 정보 조회/수정, 휴가 신청 |

### 4.2 권한 모델

#### 4.2.1 계층적 RBAC (Role-Based Access Control)

```
SUPER_ADMIN
    ↓ 상속
GROUP_ADMIN (전체 계열사 통합 리포트)
    ↓ 상속
TENANT_ADMIN (해당 계열사 직원 정보, 정책 설정)
    ↓ 상속
HR_MANAGER (인사정보 관리)
    ↓ 상속
DEPT_MANAGER (부서원 정보, 결재 승인)
    ↓ 상속
TEAM_LEADER (팀원 정보, 휴가 승인)
    ↓ 상속
EMPLOYEE (본인 정보)
```

#### 4.2.2 데이터 접근 제어

| 데이터 유형 | 접근 제어 방식 |
|------------|---------------|
| **일반 인사정보** | 역할 기반 (RBAC) |
| **민감 정보 (급여, 징계)** | 역할 + 부서 일치 조건 |
| **개인정보** | 마스킹 처리 + 조회 승인 필요 |

### 4.3 사용자 시나리오

#### 시나리오 1: 휴가 신청 및 승인

```
1. 직원이 휴가 신청서 작성
2. 시스템이 조직도 기반 결재선 자동 지정
3. 팀장에게 알림 발송 (웹 푸시)
4. 팀장이 승인 (3일 이상인 경우 부서장에게 자동 상신)
5. 부서장 승인 후 휴가 확정
6. 직원에게 승인 알림 발송
7. 연차 잔여일수 자동 차감
```

#### 시나리오 2: 계열사 간 전출/전입

```
1. 원 계열사 HR이 전출 요청 등록
2. 신규 계열사 HR에게 알림
3. 신규 계열사 HR이 전입 승인
4. 양측 결재 완료 후:
   - 원 계열사: 퇴직 처리 (경력 데이터 보존)
   - 신규 계열사: 입사 처리 (경력 승계)
5. 통합 인사기록 자동 연결
```

---

## 5. 기능 요구사항

### 5.1 테넌트 관리 (Phase 1)

#### FR-TM-001: 테넌트 등록 및 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-TM-001-01 | 시스템 관리자가 새로운 테넌트(계열사)를 등록할 수 있다 | Must |
| FR-TM-001-02 | 테넌트별 기본 정보(회사명, 사업자번호, 로고 등)를 관리할 수 있다 | Must |
| FR-TM-001-03 | 테넌트 상태(활성/비활성/일시정지)를 관리할 수 있다 | Must |
| FR-TM-001-04 | 테넌트별 사용 가능한 모듈/기능을 설정할 수 있다 | Must |

#### FR-TM-002: 테넌트 정책 설정

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-TM-002-01 | 테넌트별 조직 계층 구조를 정의할 수 있다 (깊이, 명칭) | Must |
| FR-TM-002-02 | 테넌트별 직급/직책 체계를 정의할 수 있다 | Must |
| FR-TM-002-03 | 테넌트별 휴가 정책(연차 일수, 이월 규칙 등)을 설정할 수 있다 | Must |
| FR-TM-002-04 | 테넌트별 결재 기능(병렬승인, 합의, 전결, 대결)을 On/Off할 수 있다 | Must |
| FR-TM-002-05 | 테넌트별 자동 결재선 규칙을 설정할 수 있다 | Should |

#### FR-TM-003: 그룹 통합 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-TM-003-01 | 그룹 관리자가 전체 계열사 현황을 대시보드로 조회할 수 있다 | Must |
| FR-TM-003-02 | 그룹 공통 정책을 설정하고 계열사에 일괄 적용할 수 있다 | Should |
| FR-TM-003-03 | 계열사 간 인사이동 워크플로우를 관리할 수 있다 | Must |

### 5.2 기준정보 관리 - MDM (Phase 1)

#### FR-MDM-001: 공통코드 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-MDM-001-01 | 시스템 공통코드를 등록/수정/삭제할 수 있다 | Must |
| FR-MDM-001-02 | 테넌트별 공통코드 사용 여부를 설정할 수 있다 | Must |
| FR-MDM-001-03 | 코드 변경 시 기존 데이터 일괄 변경 옵션을 제공한다 | Should |
| FR-MDM-001-04 | 공통코드 변경 이력을 조회할 수 있다 | Must |

#### FR-MDM-002: 분류체계 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-MDM-002-01 | 다단계 분류체계(대/중/소/세분류)를 정의할 수 있다 | Must |
| FR-MDM-002-02 | 분류체계 변경 시 하위 데이터 영향도를 시뮬레이션할 수 있다 | Should |
| FR-MDM-002-03 | 유사/중복 코드를 검색 엔진으로 검색할 수 있다 | Should |

### 5.3 조직 관리 (Phase 1)

#### FR-ORG-001: 조직 구조 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ORG-001-01 | 조직(부서/팀)을 등록/수정/삭제할 수 있다 | Must |
| FR-ORG-001-02 | 조직도를 트리 형태로 시각화하여 조회할 수 있다 | Must |
| FR-ORG-001-03 | 조직 변경 이력을 시점별로 조회할 수 있다 | Must |
| FR-ORG-001-04 | 조직 개편 시 영향받는 직원 목록을 미리 조회할 수 있다 | Should |

#### FR-ORG-002: 보직/겸직 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ORG-002-01 | 직원의 보직(직책) 정보를 관리할 수 있다 | Must |
| FR-ORG-002-02 | 1인 다보직(겸직)을 지원한다 | Must |
| FR-ORG-002-03 | 주 소속과 부 소속을 구분하여 관리할 수 있다 | Must |
| FR-ORG-002-04 | 보직 발령에 따라 위원회 당연직이 자동 업데이트된다 | Should |

#### FR-ORG-003: 직급/직책 체계 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ORG-003-01 | 테넌트별 직급 체계를 정의할 수 있다 | Must |
| FR-ORG-003-02 | 직급과 직책을 분리하여 관리할 수 있다 | Must |
| FR-ORG-003-03 | 직급별 호봉 체계를 설정할 수 있다 | Should |

### 5.4 인사정보 관리 (Phase 1)

#### FR-EMP-001: 사원 정보 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-EMP-001-01 | 사원 정보를 등록/수정/삭제할 수 있다 | Must |
| FR-EMP-001-02 | 사원 정보를 Excel/CSV로 일괄 등록/수정할 수 있다 | Must |
| FR-EMP-001-03 | 인사기록카드를 조회/출력(PDF)할 수 있다 | Must |
| FR-EMP-001-04 | 직원이 본인 정보를 조회하고 변경 요청할 수 있다 | Must |
| FR-EMP-001-05 | 변경 요청은 HR 담당자 승인 후 반영된다 | Must |

#### FR-EMP-002: 개인정보 보호

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-EMP-002-01 | 민감 개인정보는 마스킹 처리하여 표시한다 | Must |
| FR-EMP-002-02 | 개인정보 조회 시 승인 절차를 거친다 | Must |
| FR-EMP-002-03 | 개인정보 조회 이력을 기록하고 조회할 수 있다 | Must |
| FR-EMP-002-04 | 개인정보 암호화는 Row Level로 적용한다 | Must |

#### FR-EMP-003: 사번 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-EMP-003-01 | 사번 생성 규칙을 테넌트별로 설정할 수 있다 | Must |
| FR-EMP-003-02 | 퇴직 시 급여/근태 정보를 분리 보관한다 | Must |
| FR-EMP-003-03 | 재입사 시 사번 재활용 여부를 선택할 수 있다 | Should |
| FR-EMP-003-04 | 동명이인 식별 및 관리 기능을 제공한다 | Should |

#### FR-EMP-004: 가족 정보 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-EMP-004-01 | 가족 정보를 등록/수정/삭제할 수 있다 | Must |
| FR-EMP-004-02 | 가족관계 코드를 관리할 수 있다 | Must |
| FR-EMP-004-03 | 가족 정보에 따른 수당 연계를 지원한다 | Should |

### 5.5 근태/휴가 관리 (Phase 1)

#### FR-ATT-001: 연차 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ATT-001-01 | 연차 발생 규칙(일괄/월별)을 테넌트별로 설정할 수 있다 | Must |
| FR-ATT-001-02 | 연차 잔여일수를 실시간으로 조회할 수 있다 | Must |
| FR-ATT-001-03 | 연차 이월 규칙을 설정할 수 있다 | Must |
| FR-ATT-001-04 | 근속연수별 연차 차등 부여를 설정할 수 있다 | Should |

#### FR-ATT-002: 휴가 신청/승인

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ATT-002-01 | 직원이 휴가(연차, 특별휴가 등)를 신청할 수 있다 | Must |
| FR-ATT-002-02 | 반차, 시간차 신청을 지원한다 | Must |
| FR-ATT-002-03 | 휴가 신청 시 결재선이 자동 지정된다 | Must |
| FR-ATT-002-04 | 결재자가 휴가를 승인/반려할 수 있다 | Must |
| FR-ATT-002-05 | 휴가 승인 시 연차 잔여일수가 자동 차감된다 | Must |
| FR-ATT-002-06 | 휴가 현황을 캘린더 형태로 조회할 수 있다 | Should |

#### FR-ATT-003: 휴가 정책 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-ATT-003-01 | 휴가 유형(연차, 병가, 경조 등)을 정의할 수 있다 | Must |
| FR-ATT-003-02 | 휴가 유형별 사용 조건을 설정할 수 있다 | Must |
| FR-ATT-003-03 | 휴가 유형별 결재선 규칙을 설정할 수 있다 | Should |

### 5.6 전자결재 (Phase 1)

#### FR-APR-001: 결재 문서 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-APR-001-01 | 기안 양식을 등록/수정/삭제할 수 있다 | Must |
| FR-APR-001-02 | 기안자가 결재 문서를 상신할 수 있다 | Must |
| FR-APR-001-03 | 결재 진행 상태를 실시간으로 조회할 수 있다 | Must |
| FR-APR-001-04 | 관련 문서를 링크로 연결할 수 있다 | Should |

#### FR-APR-002: 결재 처리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-APR-002-01 | 결재자가 승인/반려할 수 있다 | Must |
| FR-APR-002-02 | **순차 승인**: 결재선 순서대로 승인을 처리한다 | Must |
| FR-APR-002-03 | **병렬 승인**: 복수 결재자가 동시에 승인할 수 있다 (테넌트 설정) | Must |
| FR-APR-002-04 | **합의**: 승인권 없이 의견만 제시할 수 있다 (테넌트 설정) | Must |
| FR-APR-002-05 | **전결**: 특정 조건에서 상위 결재를 생략한다 (테넌트 설정) | Must |
| FR-APR-002-06 | **대결(위임)**: 부재 시 다른 사람에게 결재권을 위임한다 (테넌트 설정) | Must |

#### FR-APR-003: 결재선 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-APR-003-01 | 조직도 기반으로 결재선을 자동 생성한다 | Must |
| FR-APR-003-02 | 조건(금액, 일수 등)에 따라 결재선을 분기한다 | Must |
| FR-APR-003-03 | 위임전결 규칙을 설정할 수 있다 | Must |
| FR-APR-003-04 | 기안자가 결재선을 수동으로 수정할 수 있다 (권한에 따라) | Should |

#### FR-APR-004: 워크플로우 엔진

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-APR-004-01 | State Machine 패턴으로 상태 전이를 관리한다 | Must |
| FR-APR-004-02 | 워크플로우 인스턴스별 히스토리를 저장한다 | Must |
| FR-APR-004-03 | 결재 완료 시 연계 모듈(인사, 휴가 등)에 자동 반영한다 | Must |

### 5.7 알림 시스템 (Phase 1)

#### FR-NTF-001: 알림 발송

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-NTF-001-01 | 웹 푸시 알림을 발송할 수 있다 | Must |
| FR-NTF-001-02 | 인앱 알림 센터에서 알림 목록을 조회할 수 있다 | Must |
| FR-NTF-001-03 | 알림 읽음/안읽음 상태를 관리할 수 있다 | Must |
| FR-NTF-001-04 | 이메일 알림 발송을 지원한다 (AWS SES, 향후 확장) | Could |
| FR-NTF-001-05 | SMS 알림 발송을 지원한다 (향후 확장) | Could |

### 5.8 파일 관리 (Phase 1)

#### FR-FILE-001: 파일 업로드/다운로드

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-FILE-001-01 | 파일을 업로드할 수 있다 (S3 저장) | Must |
| FR-FILE-001-02 | 파일을 다운로드할 수 있다 (Pre-signed URL) | Must |
| FR-FILE-001-03 | 이미지 미리보기를 제공한다 | Should |
| FR-FILE-001-04 | 파일 용량/형식 제한을 설정할 수 있다 | Must |

---

## 6. 비기능 요구사항

### 6.1 성능 (Performance)

| ID | 요구사항 | 목표치 |
|----|----------|--------|
| NFR-PERF-001 | API 응답 시간 | 95%ile < 200ms |
| NFR-PERF-002 | 페이지 로딩 시간 | < 3초 (First Contentful Paint) |
| NFR-PERF-003 | 동시 접속자 | 10,000명 지원 |
| NFR-PERF-004 | 처리량 | 1,000 TPS (Transaction Per Second) |

### 6.2 가용성 (Availability)

| ID | 요구사항 | 목표치 |
|----|----------|--------|
| NFR-AVAIL-001 | 서비스 가용성 | 99.9% (연간 다운타임 8.76시간 이내) |
| NFR-AVAIL-002 | RTO (Recovery Time Objective) | < 1시간 |
| NFR-AVAIL-003 | RPO (Recovery Point Objective) | < 5분 |

### 6.3 확장성 (Scalability)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-SCALE-001 | 수평 확장 | Kubernetes 기반 Auto Scaling |
| NFR-SCALE-002 | 데이터베이스 확장 | Read Replica 지원 (운영 환경) |
| NFR-SCALE-003 | 테넌트 확장 | 100개 이상 계열사 지원 |

### 6.4 보안 (Security)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-SEC-001 | 인증 | Keycloak 기반 SSO, OAuth 2.0 / OIDC |
| NFR-SEC-002 | 인가 | RBAC + Row Level Security |
| NFR-SEC-003 | 데이터 암호화 | 전송 중: TLS 1.3 / 저장 시: AES-256 (Row Level) |
| NFR-SEC-004 | 개인정보 보호 | PIPA 준수, 마스킹 처리 |
| NFR-SEC-005 | 감사 로그 | 5년 보관, 불변성 보장 |
| NFR-SEC-006 | ISMS 대비 | 접근 제어, 이력 관리 요건 충족 |

### 6.5 운영성 (Operability)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-OPS-001 | 모니터링 | Grafana + Prometheus |
| NFR-OPS-002 | 로깅 | FluentBit → CloudWatch Logs |
| NFR-OPS-003 | 분산 추적 | OpenTelemetry → Jaeger(Dev) / X-Ray(Prod) |
| NFR-OPS-004 | 알람 | Grafana Alerting → Slack/Email |
| NFR-OPS-005 | 백업 | RDS 자동 백업 30일 보관, PITR 지원 |

### 6.6 호환성 (Compatibility)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-COMPAT-001 | 브라우저 | Chrome, Edge, Safari 최신 2개 버전 |
| NFR-COMPAT-002 | 반응형 | Desktop, Tablet, Mobile 지원 |
| NFR-COMPAT-003 | 다국어 | i18n 지원 (한국어, 영어) |
| NFR-COMPAT-004 | 접근성 | WCAG 2.1 AA 준수 |
| NFR-COMPAT-005 | 다크 모드 | 시스템 설정 연동 + 수동 전환 |

### 6.7 테스트 (Testability)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-TEST-001 | 코드 커버리지 | 80% 이상 |
| NFR-TEST-002 | E2E 테스트 | Playwright 활용 |
| NFR-TEST-003 | API 문서화 | Swagger/OpenAPI |
| NFR-TEST-004 | 데모 데이터 | 샘플 데이터 자동 생성 기능 |

---

## 7. 시스템 아키텍처 개요

### 7.1 아키텍처 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Client Layer                                    │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │           React + TypeScript + shadcn/ui + TailwindCSS                 │ │
│  │                    (Responsive Web Application)                         │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────┬─────────────────────────────────────────┘
                                    │ HTTPS
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Gateway Layer                                   │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                     Spring Cloud Gateway                                │ │
│  │         (Routing, Rate Limiting, Authentication)                        │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────┬─────────────────────────────────────────┘
                                    │ REST API (OpenFeign)
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Microservices Layer                                │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ auth-service │ │tenant-service│ │  org-service │ │employee-svc  │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │attendance-svc│ │approval-svc  │ │  mdm-service │ │notification  │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌──────────────┐                                                           │
│  │ file-service │                                                           │
│  └──────────────┘                                                           │
└───────────────────────────────────┬─────────────────────────────────────────┘
                                    │
                    ┌───────────────┼───────────────┐
                    ▼               ▼               ▼
┌──────────────────────┐ ┌──────────────────┐ ┌──────────────────────┐
│   PostgreSQL RDS     │ │  Redis (Cache)   │ │    Kafka (MSK)       │
│   (Row Level Sec.)   │ │  (ElastiCache)   │ │  (Event Streaming)   │
└──────────────────────┘ └──────────────────┘ └──────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                            Infrastructure Layer                              │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │     S3      │ │  Keycloak   │ │ CloudWatch  │ │  Grafana    │           │
│  │   (Files)   │ │    (IdP)    │ │   (Logs)    │ │(Monitoring) │           │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘           │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────────┐           │
│  │ Prometheus  │ │   Jaeger/   │ │   Spring Cloud Config       │           │
│  │  (Metrics)  │ │   X-Ray     │ │        Server               │           │
│  └─────────────┘ └─────────────┘ └─────────────────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 기술 스택 요약

| 레이어 | 기술 |
|--------|------|
| **Frontend** | React 18 + TypeScript + shadcn/ui + TailwindCSS |
| **API Gateway** | Spring Cloud Gateway |
| **Backend** | Java 17+ / Spring Boot 3.x / Spring Cloud 2023.x |
| **인증/인가** | Keycloak + Spring Security OAuth2 |
| **데이터베이스** | PostgreSQL 15 (RDS) + Row Level Security |
| **캐시** | Redis 7.x (ElastiCache) |
| **메시징** | Apache Kafka 3.x (Amazon MSK) |
| **파일 저장소** | AWS S3 + Pre-signed URL |
| **컨테이너** | Docker + Amazon EKS (Kubernetes) |
| **CI/CD** | AWS CodePipeline + CodeBuild + CodeDeploy |
| **모니터링** | Grafana + Prometheus |
| **로깅** | FluentBit → CloudWatch Logs |
| **분산 추적** | OpenTelemetry → Jaeger (Dev) / X-Ray (Prod) |
| **설정 관리** | Spring Cloud Config Server + AWS Secrets Manager |

### 7.3 마이크로서비스 구성

| 서비스명 | 담당 도메인 | Phase | 포트 |
|----------|------------|-------|------|
| `gateway-service` | API Gateway, 라우팅, Rate Limiting | 1 | 8080 |
| `auth-service` | 인증/인가, Keycloak 연동 | 1 | 8081 |
| `tenant-service` | 테넌트(그룹사/계열사) 관리, 정책 설정 | 1 | 8082 |
| `organization-service` | 조직도, 부서, 직급/직책 관리 | 1 | 8083 |
| `employee-service` | 인사정보, 사원 관리 | 1 | 8084 |
| `attendance-service` | 근태, 휴가 관리 | 1 | 8085 |
| `approval-service` | 전자결재, 워크플로우 엔진 | 1 | 8086 |
| `mdm-service` | 기준정보, 공통코드 관리 | 1 | 8087 |
| `notification-service` | 알림 (웹푸시, 이메일, SMS) | 1 | 8088 |
| `file-service` | 파일 업로드/다운로드, S3 연동 | 1 | 8089 |
| `recruitment-service` | 채용 관리 | 2 | 8090 |
| `appointment-service` | 발령 관리 | 2 | 8091 |
| `certificate-service` | 증명서 발급 | 2 | 8092 |
| `report-service` | 통계, 리포트 | 3 | 8093 |

---

## 8. 릴리스 계획

### 8.1 Phase 1: Core HR (MVP)

**목표**: 핵심 인사관리 기능 제공

| 마일스톤 | 내용 | 기간 |
|----------|------|------|
| M1.1 | 인프라 구축, 개발 환경 세팅 | 2주 |
| M1.2 | 테넌트/MDM/조직 관리 | 4주 |
| M1.3 | 인사정보/근태휴가 관리 | 4주 |
| M1.4 | 전자결재/알림/파일 | 4주 |
| M1.5 | 통합 테스트 및 안정화 | 2주 |

**산출물**:
- 테넌트 관리 시스템
- 기준정보(MDM) 관리
- 조직도 및 인사정보 관리
- 휴가 신청/승인 워크플로우
- 전자결재 엔진

### 8.2 Phase 2: Extended HR

**목표**: 확장 인사관리 기능 제공

| 마일스톤 | 내용 | 기간 |
|----------|------|------|
| M2.1 | 채용/발령 관리 | 4주 |
| M2.2 | 증명서/정현원/경조비 | 3주 |
| M2.3 | 위원회/사원증 관리 | 3주 |
| M2.4 | 통합 테스트 및 안정화 | 2주 |

### 8.3 Phase 3: Analytics & Optimization

**목표**: 데이터 분석 및 최적화

| 마일스톤 | 내용 | 기간 |
|----------|------|------|
| M3.1 | 통계 대시보드 | 3주 |
| M3.2 | 리포트 생성기 | 3주 |
| M3.3 | 성능 최적화 | 2주 |

---

## 9. 성공 지표

### 9.1 비즈니스 KPI

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 테넌트 온보딩 | 100개 계열사 | 등록된 테넌트 수 |
| 사용자 채택률 | 80% | MAU / 전체 등록 사용자 |
| 휴가 처리 시간 | 50% 단축 | 평균 결재 완료 시간 |
| 사용자 만족도 | NPS 40+ | 정기 설문조사 |

### 9.2 기술 KPI

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 시스템 가용성 | 99.9% | Uptime 모니터링 |
| API 응답 시간 | P95 < 200ms | APM 데이터 |
| 에러율 | < 0.1% | 에러 로그 분석 |
| 배포 빈도 | 주 2회 이상 | CI/CD 파이프라인 |

---

## 10. 리스크 및 완화 방안

### 10.1 기술적 리스크

| 리스크 | 영향도 | 발생 가능성 | 완화 방안 |
|--------|--------|------------|----------|
| 멀티테넌트 데이터 누출 | 높음 | 낮음 | RLS + 애플리케이션 레벨 이중 검증 |
| 마이크로서비스 복잡성 | 중간 | 중간 | 분산 추적, 명확한 서비스 경계 정의 |
| Kafka 메시지 유실 | 중간 | 낮음 | 최소 한번 전달 보장, 멱등성 처리 |
| 대용량 데이터 성능 | 중간 | 중간 | 파티셔닝, 인덱스 최적화, 캐싱 |

### 10.2 비즈니스 리스크

| 리스크 | 영향도 | 발생 가능성 | 완화 방안 |
|--------|--------|------------|----------|
| 계열사별 요구사항 충돌 | 중간 | 높음 | 유연한 정책 엔진, 테넌트별 설정 |
| 데이터 마이그레이션 실패 | 높음 | 중간 | 검증 도구, 롤백 계획, 파일럿 테스트 |
| 사용자 저항 | 중간 | 중간 | 교육 프로그램, 점진적 롤아웃 |

---

## 11. 부록

### 11.1 용어 정의

| 용어 | 정의 |
|------|------|
| **테넌트 (Tenant)** | 시스템을 사용하는 독립된 조직 단위 (계열사) |
| **RLS (Row Level Security)** | 행 수준에서 데이터 접근을 제어하는 보안 기법 |
| **RBAC** | Role-Based Access Control, 역할 기반 접근 제어 |
| **Saga 패턴** | 분산 트랜잭션을 관리하는 마이크로서비스 패턴 |
| **Choreography** | 이벤트 기반으로 서비스 간 협업하는 Saga 구현 방식 |

### 11.2 참조 문서

| 문서명 | 설명 |
|--------|------|
| SDD_Gateway_Service.md | Gateway 서비스 설계 문서 |
| SDD_Auth_Service.md | 인증 서비스 설계 문서 |
| SDD_Tenant_Service.md | 테넌트 서비스 설계 문서 |
| SDD_Organization_Service.md | 조직 서비스 설계 문서 |
| SDD_Employee_Service.md | 인사정보 서비스 설계 문서 |
| SDD_Attendance_Service.md | 근태휴가 서비스 설계 문서 |
| SDD_Approval_Service.md | 전자결재 서비스 설계 문서 |
| SDD_MDM_Service.md | MDM 서비스 설계 문서 |
| SDD_Notification_Service.md | 알림 서비스 설계 문서 |
| SDD_File_Service.md | 파일 서비스 설계 문서 |
| SDD_Infrastructure.md | 인프라 설계 문서 |
| SDD_Frontend.md | 프론트엔드 설계 문서 |

### 11.3 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2025-02-03 | - | 최초 작성 |

---

**문서 끝**