# =============================================================================
# HR SaaS Platform - JVM Options for Container Deployment
# Optimized for: AWS Fargate (ARM64/Graviton), G1GC, Spring Boot 3.2
#
# Usage: JAVA_OPTS="$(cat /app/jvm-options.conf | tr '\n' ' ')" in ENTRYPOINT
# Or reference via Dockerfile ENV
# =============================================================================

# --- Container Support ---
-XX:+UseContainerSupport
-XX:MaxRAMPercentage=75.0
-XX:InitialRAMPercentage=50.0

# --- G1GC Optimization ---
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200
-XX:G1HeapRegionSize=16m
-XX:+ParallelRefProcEnabled

# --- String Optimization ---
-XX:+UseStringDeduplication

# --- Diagnostics ---
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/tmp/heapdump.hprof
-XX:+ExitOnOutOfMemoryError
-Xlog:gc*:file=/tmp/gc.log:time,uptime,level,tags:filecount=5,filesize=10m

# --- Security ---
-Djava.security.egd=file:/dev/./urandom
