# HR SaaS Platform

Enterprise-grade multi-tenant HR SaaS platform for large corporate groups with 100+ subsidiaries.

---

## ğŸš§ í”„ë¡œì íŠ¸ í˜„ì¬ ìƒíƒœ (Project Status)

> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026ë…„ 2ì›” 5ì¼

### âœ… ì™„ë£Œëœ ì‘ì—… (Frontend UI)

í”„ë¡ íŠ¸ì—”ë“œ í™”ë©´ ê°œë°œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ **MSW(Mock Service Worker)**ë¥¼ ì‚¬ìš©í•˜ì—¬ APIë¥¼ ëª¨í‚¹í•˜ê³  ìˆìœ¼ë©°, ì‹¤ì œ ë°±ì—”ë“œ ì—°ë™ ì—†ì´ ëª¨ë“  í™”ë©´ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| ê¸°ëŠ¥ | í™”ë©´ | ìƒíƒœ |
|------|------|------|
| **ì¸ì¦** | ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ | âœ… ì™„ë£Œ |
| **ëŒ€ì‹œë³´ë“œ** | ë©”ì¸ ëŒ€ì‹œë³´ë“œ, ìœ„ì ¯ ì»¤ìŠ¤í„°ë§ˆì´ì§• | âœ… ì™„ë£Œ |
| **ì§ì› ê´€ë¦¬** | ëª©ë¡, ìƒì„¸, ë“±ë¡, ìˆ˜ì •, ê²¸ì§ ê´€ë¦¬ | âœ… ì™„ë£Œ |
| **ì¡°ì§ ê´€ë¦¬** | ì¡°ì§ë„, ë¶€ì„œ ê´€ë¦¬, ì§ê¸‰/ì§ìœ„ ê´€ë¦¬, ì´ë ¥ | âœ… ì™„ë£Œ |
| **ê·¼íƒœ ê´€ë¦¬** | ì¶œí‡´ê·¼, ì—°ì¥ê·¼ë¬´, íœ´ê°€ ì‹ ì²­/ìŠ¹ì¸/ìº˜ë¦°ë” | âœ… ì™„ë£Œ |
| **ê²°ì¬** | ë¬¸ì„œ ì‘ì„±/ëª©ë¡/ìƒì„¸, í…œí”Œë¦¿, ìœ„ì„ ì„¤ì • | âœ… ì™„ë£Œ |
| **ì±„ìš©** | ì±„ìš©ê³µê³ , ì§€ì›ì ê´€ë¦¬, ë©´ì ‘ ê´€ë¦¬ | âœ… ì™„ë£Œ |
| **ê³µì§€ì‚¬í•­** | ëª©ë¡, ìƒì„¸, ì‘ì„± | âœ… ì™„ë£Œ |
| **ìœ„ì›íšŒ** | ëª©ë¡, ìƒì„±, ë©¤ë²„ ê´€ë¦¬ | âœ… ì™„ë£Œ |
| **ì •ì› ê´€ë¦¬** | í˜„í™©, ìš”ì²­ ìƒì„± | âœ… ì™„ë£Œ |
| **ì¸ì‚¬ì´ë™** | ìš”ì²­, ëª©ë¡, ìƒì„¸ | âœ… ì™„ë£Œ |
| **ì¦ëª…ì„œ** | ë°œê¸‰ ì‹ ì²­, ë‚´ ì¦ëª…ì„œ | âœ… ì™„ë£Œ |
| **ì•Œë¦¼** | ì•Œë¦¼ ì„¼í„°, ì„¤ì • | âœ… ì™„ë£Œ |
| **ì„¤ì •** | ì‹œìŠ¤í…œ ì„¤ì •, í…Œë§ˆ, ì–¸ì–´ | âœ… ì™„ë£Œ |
| **ë„ì›€ë§** | FAQ, ê°€ì´ë“œ, ë¬¸ì˜ | âœ… ì™„ë£Œ |
| **ëª¨ë°”ì¼ ëŒ€ì‘** | ë°˜ì‘í˜• UI, PWA ì§€ì› | âœ… ì™„ë£Œ |
| **ì ‘ê·¼ì„±** | WCAG 2.1 AA ì¤€ìˆ˜ | âœ… ì™„ë£Œ |
| **ë‹¤êµ­ì–´** | í•œêµ­ì–´/ì˜ì–´ ì§€ì› | âœ… ì™„ë£Œ |

### ğŸ”„ ì§„í–‰ ì˜ˆì • (Backend Integration)

ë°±ì—”ë“œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ê°œë°œì´ ì™„ë£Œë˜ì—ˆìœ¼ë‚˜, í”„ë¡ íŠ¸ì—”ë“œì™€ì˜ ì—°ë™ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ì¶”í›„ ì‘ì—… ì˜ˆì • í•­ëª©:**

1. **API ì—°ë™**
   - MSW ëª¨í‚¹ì„ ì‹¤ì œ ë°±ì—”ë“œ APIë¡œ êµì²´
   - ì¸ì¦ í”Œë¡œìš° ì—°ë™ (Keycloak OAuth 2.0)
   - ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ êµ¬í˜„

2. **ë°±ì—”ë“œ ì¸í”„ë¼ ì¬êµ¬ì„±**
   - AWS ECS Fargate ì„œë¹„ìŠ¤ ì¬ë°°í¬
   - Spring Cloud Gateway CORS ì„¤ì • ìµœì í™”
   - API Gateway ì—°ë™ (CORS ì²˜ë¦¬)

3. **í†µí•© í…ŒìŠ¤íŠ¸**
   - E2E í…ŒìŠ¤íŠ¸ ì‘ì„±
   - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ìµœì í™”
   - ë³´ì•ˆ ì ê²€

### ğŸŒ í˜„ì¬ ë°°í¬ ìƒíƒœ

| í™˜ê²½ | URL | ìƒíƒœ |
|------|-----|------|
| **Frontend (Production)** | https://app.port-sw.com | âœ… ìš´ì˜ ì¤‘ |
| **Backend API** | https://api-hr.port-sw.com | â¸ï¸ ì •ë¹„ ì¤‘ |
| **Keycloak** | - | â¸ï¸ ì •ë¹„ ì¤‘ |

### ğŸ’¡ ë¡œì»¬ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰í•˜ê¸°

```bash
cd frontend/apps/web
pnpm install
pnpm dev
# http://localhost:5173 ì—ì„œ í™•ì¸ ê°€ëŠ¥
# MSWê°€ ëª¨ë“  APIë¥¼ ëª¨í‚¹í•˜ë¯€ë¡œ ë°±ì—”ë“œ ì—†ì´ ë™ì‘
```

**í…ŒìŠ¤íŠ¸ ê³„ì • (MSW ëª¨í‚¹):**
- ID: `admin@example.com`
- PW: ì•„ë¬´ ê°’ì´ë‚˜ ì…ë ¥

---

## Overview

A comprehensive Human Resource Management System built with microservices architecture, designed for enterprise-scale operations with robust multi-tenancy support using PostgreSQL Row Level Security (RLS).

### Key Features

- **Employee Management**: Full lifecycle management from onboarding to offboarding
- **Attendance & Leave**: Time tracking, leave requests, and approval workflows
- **Approval Workflow**: Configurable multi-step approval processes
- **Organization Management**: Hierarchical org chart, departments, positions, grades
- **Recruitment**: Job postings, applicant tracking, interview scheduling
- **Multi-tenancy**: Complete data isolation between tenants using RLS

## Tech Stack

| Layer | Technology |
|-------|------------|
| Language | Java 17 |
| Framework | Spring Boot 3.2, Spring Cloud 2023.x |
| Database | PostgreSQL 15 + Row Level Security |
| Cache | Redis 7.x |
| Messaging | Apache Kafka 3.x (KRaft mode) |
| Authentication | Keycloak 23.x (OAuth 2.0 / OIDC) |
| Build | Gradle 8.x (Multi-module) |
| Container | Docker, AWS ECS Fargate (Graviton ARM64) |
| Frontend | React 18, TypeScript, Vite, TanStack Query |

## Architecture

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                      VPC (10.0.0.0/16)                 â”‚
                    â”‚                                                        â”‚
    Internet â”€â”€â”€â”€â”€â”€â”€â”¤â–º  ALB (Public Subnet)    CloudFront â—„â”€â”€ S3 (Frontend)  â”‚
                    â”‚       â”‚                                                â”‚
                    â”‚       â–¼                                                â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚   â”‚           ECS Fargate (Private Subnet)          â”‚  â”‚
                    â”‚   â”‚                    [ARM64]                       â”‚  â”‚
                    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
                    â”‚   â”‚  â”‚ Gateway â”‚ â”‚  Auth   â”‚ â”‚ Tenant  â”‚ â”‚  Org   â”‚ â”‚  â”‚
                    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
                    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
                    â”‚   â”‚  â”‚Employee â”‚ â”‚Attendanceâ”‚ â”‚Approval â”‚ â”‚  MDM   â”‚ â”‚  â”‚
                    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
                    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚  â”‚
                    â”‚   â”‚  â”‚Keycloak â”‚ â”‚  Redis  â”‚                        â”‚  â”‚
                    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚  â”‚
                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚              â”‚                â”‚                        â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
                    â”‚   â”‚                                       â”‚            â”‚
                    â”‚   â–¼                                       â–¼            â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                    â”‚ â”‚   RDS   â”‚                          â”‚  Kafka  â”‚      â”‚
                    â”‚ â”‚PostgreSQLâ”‚                         â”‚  (EC2)  â”‚      â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                    â”‚                                                        â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
                    â”‚   â”‚           VPC Endpoints (No NAT)             â”‚     â”‚
                    â”‚   â”‚  ECR API â”‚ ECR DKR â”‚ Logs â”‚ Secrets â”‚ S3(GW) â”‚     â”‚
                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Microservices

| Service | Port | Description |
|---------|------|-------------|
| Gateway | 8080 | API Gateway, routing, rate limiting |
| Auth | 8081 | Authentication, session management |
| Tenant | 8082 | Multi-tenancy management |
| Organization | 8083 | Org structure, departments, positions |
| Employee | 8084 | Employee data management |
| Attendance | 8085 | Time tracking, leave management |
| Approval | 8086 | Workflow engine |
| MDM | 8087 | Master data (codes, menus) |
| Notification | 8088 | Push notifications, emails |
| File | 8089 | File storage (S3 integration) |

## Project Structure

```
hr-platform/
â”œâ”€â”€ docker/                     # Docker configurations
â”œâ”€â”€ common/                     # Shared modules
â”‚   â”œâ”€â”€ common-core/            # Base exceptions, utilities
â”‚   â”œâ”€â”€ common-entity/          # JPA base entities
â”‚   â”œâ”€â”€ common-security/        # JWT, permissions
â”‚   â”œâ”€â”€ common-tenant/          # Multi-tenancy support
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/                   # Microservices
â”‚   â”œâ”€â”€ gateway-service/
â”‚   â”œâ”€â”€ auth-service/
â”‚   â”œâ”€â”€ employee-service/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ apps/web/               # React SPA
â”œâ”€â”€ infra/
â”‚   â””â”€â”€ aws/terraform/          # Infrastructure as Code
â””â”€â”€ config/                     # Centralized configs
```

## Local Development

### Prerequisites

- Java 17+
- Node.js 18+ with pnpm
- Docker & Docker Compose
- Gradle 8.x

### Quick Start

```bash
# 1. Start infrastructure (PostgreSQL, Redis, Kafka, Keycloak)
cd docker && docker-compose up -d

# 2. Run backend services
./gradlew :services:gateway-service:bootRun &
./gradlew :services:auth-service:bootRun &
./gradlew :services:employee-service:bootRun &
# ... or run all services

# 3. Start frontend
cd frontend/apps/web
pnpm install
pnpm dev
```

### Running Individual Services

```bash
# Build all modules
./gradlew build

# Run specific service
./gradlew :services:employee-service:bootRun

# Run tests
./gradlew test

# Generate test coverage
./gradlew jacocoTestReport
```

### Frontend Development

**Important: Use pnpm, not npm or yarn**

```bash
cd frontend/apps/web

# Install dependencies
pnpm install

# Development server (http://localhost:5173)
pnpm dev

# Production build
pnpm build

# Type checking
pnpm typecheck
```

## AWS Deployment

### Infrastructure Overview

- **Compute**: ECS Fargate with Graviton (ARM64) for cost efficiency
- **Database**: RDS PostgreSQL with Row Level Security
- **Cache**: Redis on Fargate (ARM64)
- **Messaging**: Kafka on EC2 (KRaft mode, no ZooKeeper)
- **Auth**: Keycloak on Fargate (ARM64)
- **Networking**: VPC Endpoints instead of NAT Gateway (~$20/month savings)

### Deployment Steps

```bash
# 1. Initialize Terraform
cd infra/aws/terraform/environments/dev
terraform init

# 2. Review planned changes
terraform plan -out=tfplan

# 3. Apply infrastructure
terraform apply tfplan

# 4. Build and push Docker images (ARM64)
aws ecr get-login-password --region ap-northeast-2 | \
  docker login --username AWS --password-stdin <account-id>.dkr.ecr.ap-northeast-2.amazonaws.com

# Build ARM64 images using buildx
docker buildx create --use
services="gateway-service auth-service tenant-service organization-service employee-service attendance-service approval-service mdm-service"
for service in $services; do
  docker buildx build --platform linux/arm64 \
    -t <account-id>.dkr.ecr.ap-northeast-2.amazonaws.com/hr-platform/$service:latest \
    --build-arg SERVICE_NAME=$service \
    -f docker/Dockerfile.service . --push
done

# 5. Deploy frontend
cd frontend/apps/web && pnpm build
aws s3 sync dist/ s3://hr-platform-dev-frontend/ --delete
aws cloudfront create-invalidation --distribution-id <id> --paths "/*"
```

### Infrastructure Validation

```bash
# Check VPC Endpoints
aws ec2 describe-vpc-endpoints --filters "Name=vpc-id,Values=<vpc-id>"

# Verify ECS tasks are running ARM64
aws ecs describe-tasks --cluster hr-platform-dev --tasks <task-arn>

# Test service health
curl -k https://<alb-dns>/actuator/health
```

### Estimated Monthly Cost (Dev Environment)

| Resource | Configuration | Cost |
|----------|--------------|------|
| ECS Fargate (8 services) | ARM64, 256 CPU, 512MB | ~$96 |
| Redis (Fargate) | ARM64, 256 CPU, 512MB | ~$8 |
| Keycloak (Fargate) | ARM64, 512 CPU, 1GB | ~$16 |
| Kafka (EC2) | t3.small | ~$15 |
| RDS | db.t3.micro | ~$25 |
| ALB | - | ~$20 |
| VPC Endpoints | ECR, Logs, Secrets | ~$14 |
| CloudFront + S3 | - | ~$5 |
| **Total** | | **~$200/month** |

## API Documentation

### Accessing Swagger UI

After starting services locally or on AWS:

- Gateway Swagger: `http://localhost:8080/swagger-ui.html`
- Individual services: `http://localhost:<port>/swagger-ui.html`

### Key API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/v1/auth/login` | POST | User authentication |
| `/api/v1/employees` | GET | List employees |
| `/api/v1/employees/{id}` | GET | Get employee details |
| `/api/v1/attendance/check-in` | POST | Record check-in |
| `/api/v1/leaves` | POST | Submit leave request |
| `/api/v1/approvals` | GET | List pending approvals |

### Authentication

All API requests require Bearer token authentication:

```bash
# Get access token
curl -X POST https://auth.example.com/realms/hr-saas/protocol/openid-connect/token \
  -d "grant_type=password" \
  -d "client_id=hr-saas-api" \
  -d "username=user@example.com" \
  -d "password=password"

# Use token in requests
curl -H "Authorization: Bearer <access_token>" \
  https://api.example.com/api/v1/employees
```

## Development Conventions

### API Standards

- Base path: `/api/v1/{resource}`
- Use plural nouns for resources
- Response format: `ApiResponse<T>` wrapper
- Error codes: `{SERVICE}_{NUMBER}` (e.g., `EMP_001`)

### Database Conventions

- Table names: snake_case, plural (e.g., `employees`)
- All tenant tables must have `tenant_id` column
- RLS policies for automatic tenant filtering

### Testing

- Unit tests: JUnit 5 + Mockito
- Integration tests: Testcontainers
- Target coverage: 80%
- Test naming: `{method}_{scenario}_{expectedResult}`

## Contributing

1. Create a feature branch from `master`
2. Make changes following code conventions
3. Write tests for new functionality
4. Submit a pull request with clear description

## License

Proprietary - All rights reserved
